# タスク: Tag CRUD API実装

## 概要

タグの一覧取得、作成（または既存タグの取得）機能を提供するAPI エンドポイントを実装する。
タグ名の正規化（小文字変換、trim）とバリデーションも含む。

## 実装スコープ

- [ ] GET /api/tags - タグ一覧取得（使用回数を含む）
- [ ] POST /api/tags - タグ作成または既存タグ取得
- [ ] タグ名バリデーションスキーマの作成
- [ ] タグ名正規化ユーティリティ関数の作成
- [ ] 基本的なユニットテストの追加

## 受け入れ条件

1. GET /api/tags が実装されている
   - レスポンス: `{ id, name, count }[]`
   - count は該当タグを使用しているTodo数
   - name の昇順でソート
2. POST /api/tags が実装されている
   - リクエストボディ: `{ name: string }`
   - レスポンス: `{ id, name }`
   - 既存タグの場合は既存レコードを返す（正規化後に比較）
   - 新規タグの場合は作成して返す
3. タグ名のバリデーション
   - 長さ: 1文字以上20文字以下
   - 使用可能文字: `^[a-zA-Z0-9ぁ-んァ-ヶー一-龠\-_]+$`
   - バリデーションエラー時は400エラー
4. タグ名の正規化
   - 前後の空白をtrim
   - 小文字に変換
5. 基本的なテストが追加されている
   - 正常系: タグ一覧取得、新規タグ作成、既存タグ取得

## 技術的考慮事項

- タグ名正規化関数は utils または helpers に配置
- Zod スキーマでバリデーションを定義
- GET /api/tags のクエリでは _count を使用してパフォーマンス最適化
- 正規化後の name で UNIQUE 制約違反をチェック
- routes/tags.ts ファイルを新規作成し、index.ts に登録

## 依存関係

- 前提: Task-001（DB schema）
- 次タスク: Task-003（このAPIを利用）
